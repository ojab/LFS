<?xml version="1.0" encoding="ISO-8859-1"?>
<!DOCTYPE sect1 PUBLIC "-//OASIS//DTD DocBook XML V4.3//EN"
"http://www.oasis-open.org/docbook/xml/4.3/docbookx.dtd" [
  <!ENTITY % general-entities SYSTEM "../general.ent">
  %general-entities;
]>
<sect1 id="ch02-cvsssh">
<title>CVS SSH Access (for editors)</title>
<?dbhtml filename="cvsssh.html" dir="chapter02"?>

<para>For editors, access is slightly more complicated. You first of
all need to generate yourself an ssh key-pair. You then need to upload
your public key into your <filename>~/.ssh</filename> directory on
belgarath. To generate the keys run:</para>

<para><screen><userinput>ssh-keygen -t dsa</userinput></screen></para>

<para>When prompted as to where to save them, it's probably best to leave
them in .ssh (as <filename>id_dsa</filename> and
<filename>id_dsa.pub</filename>) unless you already have ssh keys there.
When prompted for a passphrase just press enter (unless you want to have
to give the phrase <emphasis>every</emphasis> time you perform a cvs
operation.  Having generated your keys, upload
<filename>~/.ssh/id_dsa.pub</filename> to belgarath and move it to
<filename>~/.ssh/authorized_keys2</filename> <emphasis>on
belgarath</emphasis>.  (Your local copy of <filename>id_dsa</filename>
and <filename>id_dsa.pub</filename> should remain untouched by
this.)</para>

<para>Once you've done this, you need to set environment variables like
this:</para>

<para><screen><userinput>export CVS_RSH=ssh &amp;&amp;
export CVSROOT=:ext:USERNAME@cvs.linuxfromscratch.org:/home/cvsroot</userinput></screen></para>

<para>Replace <emphasis>USERNAME</emphasis> with your belgarath username.</para>

<para>Once you have this setup, try to checkout the LFS tree by
running:</para>

<para><screen><userinput>cvs checkout BLFS</userinput></screen></para>

<para>If this works, you'll get the LFS directory listing and you have
your own sandbox.  You also have write access so from now on be extra
careful but note that <emphasis>no</emphasis> changes will be made until
you use a <userinput>cvs commit</userinput> command.</para>

<para>As with anonymous access, you can update your local copy by simply
cd'ing into the LFS directory and running:</para>

<para><screen><userinput>cvs update</userinput></screen></para>

</sect1>
