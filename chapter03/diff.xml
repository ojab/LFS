<?xml version="1.0" encoding="ISO-8859-1"?>
<!DOCTYPE chapter PUBLIC "-//OASIS//DTD DocBook XML V4.4//EN" "http://www.oasis-open.org/docbook/xml/4.4/docbookx.dtd" [
  <!ENTITY % general-entities SYSTEM "../general.ent">
  %general-entities;
]>

<sect1 id="ch03-diff">
  <title>cvs diff</title>
  <?dbhtml filename="diff.html"?>

  <para><userinput>cvs diff</userinput>. This is useful for three different
    purposes.
  </para>

  <para>Firstly, those without write access to the LFS CVS server can use it to
    generate patches to send to <userinput>lfs-dev</userinput>. To do this,
    simply edit the files in your local sandbox then run
    <userinput>cvs diff -u &gt; FILE.patch</userinput> from the root of your LFS
    directory. You can then attach this file to a message to the
    <userinput>lfs-dev</userinput> list where someone with editing rights will
    pick it up and apply it to the book.
  </para>

  <para>The second use is to find out what has changed between two revisions of
    a file by running:
  </para>

  <para><screen><userinput>cvs diff -u -r revision1 -r revision2 FILENAME</userinput></screen></para>

  <para>For example: <userinput>cvs diff -u -r 1.68 -r 1.69 index.xml</userinput>
    will output a unified diff showing the changes between revisions 1.68 and
    1.69 of <filename>index.xml</filename>.
  </para>

  <para>Remember that when using cvs diff, you nearly
    <emphasis>always</emphasis> want to output a unified diff and so either use
    the <userinput>-u</userinput> switch or add it to your
    <filename>~/.cvsrc</filename> file.
  </para>

  <para>A third use it to recursive request all the changes between your local
    copy and the copy on the CVS server. This is handy to do before running
    <userinput>cvs update</userinput> to see what exactly has changed since the
    last time you ran the update command.
  </para>
</sect1>
